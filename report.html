

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Report &mdash; GEB  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5dd5ad26" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5be48651"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=27b9c81c"></script>
      <script src="_static/doctools.js?v=695de88e"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="copyright" title="Copyright" href="copyright.html" />
    <link rel="next" title="Hydrological response units" href="HRUs.html" />
    <link rel="prev" title="CWatM Model" href="cwatm_model.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GEB
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="preprocessing.html">Preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualisation.html">Visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ODD/ODD.html">ODD protocol</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Agents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="agents/__init__.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents/farmers.html">Farmers</a></li>
<li class="toctree-l1"><a class="reference internal" href="agents/government.html">Government</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="cwatm_model.html">CWatM Model</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Report</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#geb.reporter.Reporter"><code class="docutils literal notranslate"><span class="pre">Reporter</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.Reporter.report"><code class="docutils literal notranslate"><span class="pre">Reporter.report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.Reporter.step"><code class="docutils literal notranslate"><span class="pre">Reporter.step()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#geb.reporter.hydrology_reporter"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.hydrology_reporter.decompress"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter.decompress()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.hydrology_reporter.export_value"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter.export_value()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.hydrology_reporter.get_array"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter.get_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.hydrology_reporter.report"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter.report()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#geb.reporter.hydrology_reporter.step"><code class="docutils literal notranslate"><span class="pre">hydrology_reporter.step()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="HRUs.html">Farm-level HRUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="artists.html">Artists</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors_page.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="updates.html">Updates</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GEB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Report</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/report.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-geb.reporter">
<span id="report"></span><h1>Report<a class="headerlink" href="#module-geb.reporter" title="Link to this heading"></a></h1>
<p>This module is used to report data to the disk. After initialization, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">reporter.Report.step()</span></code> method is called every timestep, which in turn calls the equivalent methods in honeybees’s reporter (to report data from the agents) and the CWatM reporter, to report data from CWatM. The variables to report can be configured in <cite>model.yml</cite> (see <a class="reference internal" href="configuration.html"><span class="doc">Configuration</span></a>). All data is saved in a subfolder (see <a class="reference internal" href="configuration.html"><span class="doc">Configuration</span></a>).</p>
<dl class="py class">
<dt class="sig sig-object py" id="geb.reporter.Reporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Reporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#Reporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.Reporter" title="Link to this definition"></a></dt>
<dd><p>This is the main reporter class for the GEB model. On initialization the ABMReporter and hydrology_reporter classes are initalized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> – The GEB model.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.Reporter.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#Reporter.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.Reporter.report" title="Link to this definition"></a></dt>
<dd><p>At the end of the model run, all previously collected data is reported to disk. This function only forwards the report function to the reporter for the ABM model and CWatM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.Reporter.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#Reporter.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.Reporter.step" title="Link to this definition"></a></dt>
<dd><p>This function is called at the end of every timestep. This function only forwards the step function to the reporter for the ABM model and CWatM.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hydrology_reporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter" title="Link to this definition"></a></dt>
<dd><p>This class is used to report CWatM data to disk. On initialization the export folder is created if it does not yet exist. Then all variables to report are on read from the configuration folder, and the datastructures to save the data are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model</strong> – The GEB model.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter.decompress">
<span class="sig-name descname"><span class="pre">decompress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter.decompress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter.decompress" title="Link to this definition"></a></dt>
<dd><p>This function decompresses an array for given attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Attribute which was used to get array.</p></li>
<li><p><strong>array</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span>) – The array itself.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>decompressed_array</strong> – The decompressed array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter.export_value">
<span class="sig-name descname"><span class="pre">export_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter.export_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter.export_value" title="Link to this definition"></a></dt>
<dd><p>Exports an array of values to the export folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Name of the value to be exported.</p></li>
<li><p><strong>value</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span>) – The array itself.</p></li>
<li><p><strong>conf</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span>) – Configuration for saving the file. Contains options such a file format, and whether to export the array in this timestep at all.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter.get_array">
<span class="sig-name descname"><span class="pre">get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decompress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter.get_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter.get_array" title="Link to this definition"></a></dt>
<dd><p>This function retrieves a NumPy array from the model based the name of the variable. Optionally decompresses the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>attr</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Name of the variable to retrieve. Name can contain “.” to specify variables are a “deeper” level.</p></li>
<li><p><strong>decompress</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span>) – Boolean value whether to decompress the array. If True, the class to which the top variable name belongs to must have an equivalent function called <cite>decompress</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>array</strong> – The requested array.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Read discharge from <cite>data.grid</cite>. Because <code class="code docutils literal notranslate"><span class="pre">decompress=True</span></code>, <cite>data.grid</cite> must have a <cite>decompress</cite> method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_array</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">discharge</span><span class="p">,</span> <span class="n">decompress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter.report" title="Link to this definition"></a></dt>
<dd><p>At the end of the model run, all previously collected data is reported to disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="geb.reporter.hydrology_reporter.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/geb/reporter.html#hydrology_reporter.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#geb.reporter.hydrology_reporter.step" title="Link to this definition"></a></dt>
<dd><p>This method is called after every timestep, to collect data for reporting from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cwatm_model.html" class="btn btn-neutral float-left" title="CWatM Model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="HRUs.html" class="btn btn-neutral float-right" title="Hydrological response units" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="copyright.html">Copyright</a> 2023, VU-IVM and IIASA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>